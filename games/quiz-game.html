<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Master: Trivia Challenge</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --primary: #6366f1;
            --accent: #10b981;
            --bg: #0f172a;
            --card: rgba(30, 41, 59, 0.7);
            --text: #f8fafc;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-image: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.1) 0%, transparent 50%);
        }

        .premium-header {
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 40px;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid rgba(255, 255, 255, 0.05);
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: #fff;
            font-weight: 800;
        }

        .game-area {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }

        .quiz-card {
            width: 100%;
            max-width: 600px;
            background: var(--card);
            border-radius: 30px;
            padding: 40px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary);
            transition: 0.5s;
            width: 0%;
        }

        .question {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 30px;
            line-height: 1.4;
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: 0.3s;
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--primary);
            transform: translateX(5px);
        }

        .option.correct {
            background: rgba(16, 185, 129, 0.2);
            border-color: var(--accent);
        }

        .option.wrong {
            background: rgba(239, 68, 68, 0.2);
            border-color: #ef4444;
        }

        .timer {
            position: absolute;
            top: -20px;
            right: 40px;
            background: var(--primary);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 24px;
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
        }

        .lifelines {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .lifeline-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 800;
            transition: 0.3s;
            flex: 1;
        }

        .lifeline-btn:hover:not(:disabled) {
            background: var(--primary);
            transform: translateY(-2px);
        }

        .lifeline-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .streak-fire {
            font-size: 14px;
            color: #FFD600;
            margin-left: 10px;
        }

        #result-screen {
            display: none;
            text-align: center;
        }

        .score-big {
            font-size: 100px;
            font-weight: 900;
            color: var(--accent);
            margin-bottom: 20px;
        }

        .btn {
            background: var(--primary);
            color: #fff;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-weight: 900;
            cursor: pointer;
            margin-top: 30px;
            transition: 0.3s;
            font-size: 18px;
        }

        .btn:hover {
            filter: brightness(1.2);
            transform: scale(1.05);
        }

        #start-screen {
            text-align: center;
        }

        .category-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .category-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 20px;
            color: #fff;
            cursor: pointer;
            transition: 0.3s;
            font-weight: 800;
        }

        .category-btn:hover {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.2);
            transform: translateY(-5px);
        }

        @keyframes heartbeat {
            0% {
                transform: scale(1);
                filter: brightness(1);
            }

            50% {
                transform: scale(1.1);
                filter: brightness(1.5);
            }

            100% {
                transform: scale(1);
                filter: brightness(1);
            }
        }

        .timer.low {
            animation: heartbeat 0.4s infinite;
            background: #ef4444 !important;
            box-shadow: 0 0 40px #ef4444 !important;
        }

        .category-grid button {
            animation: slide-up 0.5s backwards;
        }

        @keyframes slide-up {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .frozen-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 229, 255, 0.1);
            pointer-events: none;
            display: none;
            z-index: 45;
            box-shadow: inset 0 0 100px rgba(0, 229, 255, 0.3);
        }
    </style>
</head>

<body>
    <header class="premium-header">
        <a href="../index.html" class="back-btn"><i data-lucide="arrow-left"></i><span>QUIZ HUB</span></a>
        <div style="font-weight: 900; font-size: 24px; color: var(--primary);">MASTER CHALLENGE</div>
        <div id="score-display" style="font-weight: 800; font-size: 20px;">Score: 0 <span class="streak-fire"
                id="streak"></span></div>
    </header>
    <div id="frozen-overlay" class="frozen-overlay"></div>

    <div class="game-area">
        <div id="start-screen">
            <h1 style="font-size: 40px; margin-bottom: 10px;">QUIZ MASTER</h1>
            <p style="opacity: 0.7;">Select a category to begin your challenge</p>
            <div class="category-grid">
                <button class="category-btn" style="animation-delay: 0.1s" onclick="initQuiz('general')">üåç
                    GENERAL</button>
                <button class="category-btn" style="animation-delay: 0.2s" onclick="initQuiz('science')">üß™
                    SCIENCE</button>
                <button class="category-btn" style="animation-delay: 0.3s" onclick="initQuiz('history')">üìú
                    HISTORY</button>
                <button class="category-btn" style="animation-delay: 0.4s" onclick="initQuiz('space')">üöÄ SPACE</button>
            </div>
        </div>

        <div id="question-screen" style="display: none;">
            <div class="timer" id="timer">15</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>

            <div class="lifelines">
                <button class="lifeline-btn" id="btn-5050" onclick="use5050()">50/50</button>
                <button class="lifeline-btn" id="btn-freeze" onclick="useFreeze()">FREEZE</button>
                <button class="lifeline-btn" id="btn-skip" onclick="useSkip()">SKIP</button>
            </div>

            <div class="question" id="question">Loading trivia...</div>
            <div class="options" id="options"></div>
        </div>

        <div id="result-screen" style="display: none;">
            <h1>QUIZ FINISHED!</h1>
            <div class="score-big" id="final-score">0</div>
            <p id="feedback">Not bad at all!</p>
            <button class="btn" onclick="location.reload()">PLAY AGAIN</button>
        </div>
    </div>

    <script>
        const CAT_DATA = {
            general: [
                { q: "Which planet is known as the Red Planet?", a: ["Mars", "Jupiter", "Venus", "Saturn"], c: 0 },
                { q: "Who painted the Mona Lisa?", a: ["Picasso", "Da Vinci", "Van Gogh", "Michelangelo"], c: 1 },
                { q: "What is the capital of Japan?", a: ["Seoul", "Beijing", "Tokyo", "Bangkok"], c: 2 },
                { q: "Which element has the symbol 'Au'?", a: ["Silver", "Iron", "Gold", "Copper"], c: 2 }
            ],
            science: [
                { q: "What is the chemical symbol for water?", a: ["H2O", "O2", "CO2", "HO"], c: 0 },
                { q: "Which gas do humans breathe out?", a: ["Oxygen", "CO2", "Nitrogen", "Helium"], c: 1 },
                { q: "What is the speed of light?", a: ["300k km/s", "150k km/s", "500k km/s", "1M km/s"], c: 0 },
                { q: "How many planets are in our solar system?", a: ["7", "8", "9", "10"], c: 1 }
            ],
            history: [
                { q: "Who was the first US President?", a: ["Jefferson", "Lincoln", "Hancock", "Washington"], c: 3 },
                { q: "In which year did WWII end?", a: ["1940", "1945", "1950", "1939"], c: 1 },
                { q: "Who discovered America in 1492?", a: ["Columbus", "Magellan", "Vasco", "Cook"], c: 0 }
            ],
            space: [
                { q: "Which galaxy is Earth in?", a: ["Milky Way", "Andromeda", "Sombrero", "Whirlpool"], c: 0 },
                { q: "Who was the first man on the moon?", a: ["Aldrin", "Glenn", "Armstrong", "Shepard"], c: 2 },
                { q: "What is the hottest planet in our system?", a: ["Mercury", "Venus", "Mars", "Jupiter"], c: 1 }
            ]
        };

        let currentIdx = 0;
        let activeQuestions = [];
        let score = 0;
        let streak = 0;
        let timeLeft = 15;
        let timerInterval;
        let canAnswer = true;
        let used5050 = false;
        let usedSkip = false;
        let usedFreeze = false;
        let isFrozen = false;

        function speak(text) {
            // Voice disabled
        }

        function initQuiz(cat) {
            activeQuestions = CAT_DATA[cat];
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('question-screen').style.display = 'block';
            startQuiz();
        }

        function startQuiz() {
            showQuestion();
        }

        function showQuestion() {
            const qData = activeQuestions[currentIdx];
            document.getElementById('question').innerText = qData.q;
            speak(qData.q);
            const optionsEl = document.getElementById('options');
            optionsEl.innerHTML = '';

            qData.a.forEach((opt, i) => {
                const div = document.createElement('div');
                div.className = 'option';
                div.innerHTML = `<span style="opacity:0.5">${String.fromCharCode(65 + i)}</span> ${opt}`;
                div.onclick = () => selectOption(i);
                optionsEl.appendChild(div);
            });

            document.getElementById('progress').style.width = ((currentIdx / activeQuestions.length) * 100) + '%';
            startTimer();
            canAnswer = true;
        }

        function startTimer() {
            timeLeft = 15;
            document.getElementById('timer').innerText = timeLeft;
            document.getElementById('timer').classList.remove('low');
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                if (isFrozen) return;
                timeLeft--;
                document.getElementById('timer').innerText = timeLeft;
                if (timeLeft <= 5) document.getElementById('timer').classList.add('low');
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    selectOption(-1); // Time's up
                }
            }, 1000);
        }

        function selectOption(idx) {
            if (!canAnswer) return;
            canAnswer = false;
            clearInterval(timerInterval);

            const qData = activeQuestions[currentIdx];
            const options = document.querySelectorAll('.option');

            if (idx === qData.c) {
                streak++;
                score += (10 + timeLeft) * (1 + (streak * 0.1));
                options[idx].classList.add('correct');
                document.getElementById('streak').innerText = 'üî• ' + streak;
                speak("CORRECT!");
            } else {
                streak = 0;
                document.getElementById('streak').innerText = '';
                if (idx !== -1) {
                    options[idx].classList.add('wrong');
                    speak("INCORRECT.");
                } else {
                    speak("TIME IS UP.");
                }
                options[qData.c].classList.add('correct');
            }

            document.getElementById('score-display').firstChild.textContent = `Score: ${Math.round(score)} `;

            setTimeout(() => {
                currentIdx++;
                isFrozen = false;
                if (currentIdx < activeQuestions.length) {
                    showQuestion();
                } else {
                    showResults();
                }
            }, 1500);
        }

        function use5050() {
            if (used5050 || !canAnswer) return;
            used5050 = true;
            document.getElementById('btn-5050').disabled = true;
            const qData = activeQuestions[currentIdx];
            const options = document.querySelectorAll('.option');
            const toRemove = [];
            for (let i = 0; i < qData.a.length; i++) {
                if (i !== qData.c) toRemove.push(i);
            }
            toRemove.sort(() => Math.random() - 0.5);
            options[toRemove[0]].style.opacity = '0.2';
            options[toRemove[0]].style.pointerEvents = 'none';
            options[toRemove[1]].style.opacity = '0.2';
            options[toRemove[1]].style.pointerEvents = 'none';
        }

        function useFreeze() {
            if (usedFreeze || !canAnswer) return;
            usedFreeze = true;
            isFrozen = true;
            document.getElementById('btn-freeze').disabled = true;
            document.getElementById('frozen-overlay').style.display = 'block';
            speak("TIME FROZEN.");
            setTimeout(() => {
                isFrozen = false;
                document.getElementById('frozen-overlay').style.display = 'none';
            }, 10000);
        }

        function useSkip() {
            if (usedSkip || !canAnswer) return;
            usedSkip = true;
            document.getElementById('btn-skip').disabled = true;
            selectOption(activeQuestions[currentIdx].c);
        }

        function showResults() {
            document.getElementById('question-screen').style.display = 'none';
            document.getElementById('timer').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';
            document.getElementById('final-score').innerText = Math.round(score);

            let feedbackText = "Excellent job!";
            if (score < 50) feedbackText = "Keep practicing!";
            else if (score < 100) feedbackText = "Great knowledge!";
            document.getElementById('feedback').innerText = feedbackText;
            speak("QUIZ COMPLETE. YOUR SCORE IS " + Math.round(score) + ". " + feedbackText);
        }

        startQuiz();

        startQuiz();
        lucide.createIcons();
    </script>
</body>

</html>